{{ $currentNode := . }}

<ul id="main-menu">
    <li>
        <h1 id="site-title">
            <a href="/credits">
                {{ .Site.Title }}
            </a>
        </h1>
    </li>
  {{ range .Site.Menus.main }}

  <li class="{{if or ($currentNode.IsMenuCurrent "main" .) ($currentNode.HasMenuCurrent "main" .) }}active-link{{end}}">
      <a href="{{ .URL }}">{{ .Name }}</a>
      {{ if .HasChildren }}
          <ul class="sub-menu">
              {{ range .Children }}
                  <li class="{{if $currentNode.HasMenuCurrent "main" . }}active-link{{ end }}">
                      <a href="{{ .URL }}">{{ .Name }}</a>
                  </li>
              {{ end }}
          </ul>
      {{ end }}
  </li>

  {{ end }}
</ul>

<ul id="sub-menu">
  {{ range .Site.Menus.sub }}
  <li id="{{ .Identifier }}"><a href="{{ .URL }}">{{ .Name }}</a></li>
  {{ end }}
</ul>

<h2 id="page-title">{{ .Page.Title }}</h2>
